---
interface Props {
    titulo: string;
    descripcion: string;
    url: string;
    tipo?: "PDF" | "DRIVE" | "VIDEO" | "EXCEL" | "WEB";
    delay?: number;
}

const { titulo, descripcion, url, tipo = "WEB", delay = 0 } = Astro.props;

const typeStyles = {
    "PDF": { 
        badge: "bg-rose-500/20 text-rose-300 border-rose-500/30",
        icon: "üìÑ PDF",
        hoverTitle: "group-hover:text-rose-300",
        hoverIcon: "group-hover:bg-rose-600 group-hover:text-white",
        shadow: "hover:shadow-rose-900/20" 
    },
    "DRIVE": { 
        badge: "bg-blue-500/20 text-blue-300 border-blue-500/30",
        icon: "‚òÅÔ∏è Drive",
        hoverTitle: "group-hover:text-blue-300",
        hoverIcon: "group-hover:bg-blue-600 group-hover:text-white",
        shadow: "hover:shadow-blue-900/20"
    },
    "VIDEO": { 
        badge: "bg-sky-500/20 text-sky-300 border-sky-500/30",
        icon: "üé¨ Video",
        hoverTitle: "group-hover:text-sky-300",
        hoverIcon: "group-hover:bg-sky-600 group-hover:text-white",
        shadow: "hover:shadow-sky-900/20"
    },
    "EXCEL": { 
        badge: "bg-emerald-500/20 text-emerald-300 border-emerald-500/30",
        icon: "üìä Excel",
        hoverTitle: "group-hover:text-emerald-300",
        hoverIcon: "group-hover:bg-emerald-600 group-hover:text-white",
        shadow: "hover:shadow-emerald-900/20"
    },
    "WEB": { 
        badge: "bg-purple-500/20 text-purple-300 border-purple-500/30",
        icon: "üîó Link",
        hoverTitle: "group-hover:text-purple-300",
        hoverIcon: "group-hover:bg-purple-600 group-hover:text-white",
        shadow: "hover:shadow-purple-900/20" 
    }
};

const style = typeStyles[tipo] || typeStyles["WEB"];
---

<a href={url} target="_blank" rel="noopener noreferrer" style={`animation-delay: ${delay}ms`} class={`group relative flex flex-col p-6 rounded-2xl bg-slate-900/40 border border-white/5 hover:border-white/20 hover:bg-slate-800/60 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl overflow-hidden ${style.shadow} animate-enter-up opacity-0`}>
    <div class="absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>

    <div class="flex justify-between items-start mb-4 relative z-10">
        <span class={`text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-md border flex items-center gap-1 ${style.badge}`}>
            {style.icon}
        </span>
        <div class={`p-2 rounded-full bg-white/5 text-gray-400 transition-colors duration-300 ${style.hoverIcon}`}>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
            </svg>
        </div>
    </div>

    <div class="relative z-10">
        <h3 class={`text-xl font-bold text-white mb-2 transition-colors ${style.hoverTitle}`}>
            {titulo}
        </h3>
        <p class="text-sm text-gray-400 leading-relaxed line-clamp-2">
            {descripcion}
        </p>
    </div>

    <svg class="absolute -bottom-6 -right-6 w-32 h-32 text-white/5 group-hover:text-white/10 group-hover:scale-110 transition-all duration-500 rotate-12" fill="currentColor" viewBox="0 0 24 24">
        <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z" />
        <path d="M14 3v5h5" />
    </svg>
</a>

<style>
    @keyframes enter-up {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-enter-up {
        animation: enter-up 0.6s ease-out forwards;
    }
</style>